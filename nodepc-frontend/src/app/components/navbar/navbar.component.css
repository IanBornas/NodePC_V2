:host { display:block; --accent:#6d28d9; --fg:#111827; --muted:#6b7280; --bg:#fff; }

.nav-root { position: sticky; top: 0; z-index: 80; background: var(--bg); border-bottom: 1px solid #edf2ff; }
.nav-inner { max-width:1200px; margin:0 auto; display:flex; align-items:center; gap:16px; padding:12px 16px; min-height: 64px; }

.brand { display:flex; align-items:center; gap:10px; text-decoration:none; color:var(--fg); font-weight:700; }
.brand-logo { font-size:36px; width:36px; height:36px; color:var(--accent); }
.brand-text { font-size:1.05rem; }

.primary { margin-left: 24px; flex:1 1 auto; }
.links { display:flex; gap:8px; list-style:none; margin:0; padding:0; align-items:center; }
.links li a { color:var(--muted); text-decoration:none; padding:8px 12px; border-radius:8px; font-weight:600; display:inline-block; position:relative; transition: all 0.3s ease; }
.links li a::after { content:''; position:absolute; bottom:0; left:50%; width:0; height:2px; background:var(--accent); transition: width 0.3s ease, left 0.3s ease; }
.links li a:hover, .links li a:focus { color:var(--fg); background: rgba(109,40,217,0.06); outline: none; }
.links li a.active { color: var(--accent); background: rgba(109,40,217,0.08); transform: scale(1.05); }
.links li a.active::after { width:100%; left:0; }

.controls { display:flex; align-items:center; gap:8px; margin-left:auto; }

.search { display:flex; align-items:center; gap:6px; background:#f8fafc; padding:6px 8px; border-radius:8px; border:1px solid transparent; }
.search input { border: none; background: transparent; outline: none; min-width:160px; font-size:0.95rem; color:var(--fg); }
.search input::placeholder { color: #9ca3af; font-weight:500; }
.search-btn { background:transparent; border:none; padding:6px; cursor:pointer; color:var(--muted); }
.icon-btn { display:inline-flex; align-items:center; justify-content:center; width:48px; height:48px; border-radius:8px; text-decoration:none; color:var(--muted); background:transparent; border:none; position:relative; min-width: 44px; min-height: 44px; }
.icon-btn:hover, .icon-btn:focus { color:var(--fg); background: rgba(0,0,0,0.03); outline: none; }

.user-menu { position: relative; }
.user-btn { display:flex; align-items:center; gap:8px; padding:8px 12px; border-radius:8px; background:transparent; border:none; color:var(--muted); cursor:pointer; font-size:0.95rem; transition: all 0.3s ease; min-height: 44px; }
.user-btn:hover, .user-btn:focus, .user-btn.active { color:var(--fg); background: rgba(0,0,0,0.03); outline: none; }
.user-name { font-weight:600; max-width:120px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.dropdown-icon { font-size:18px; transition: transform 0.3s ease; }
.user-btn.active .dropdown-icon { transform: rotate(180deg); }

.user-dropdown { position:absolute; top:100%; right:0; background:var(--bg); border:1px solid #edf2ff; border-radius:8px; box-shadow: 0 8px 32px rgba(2,6,23,0.12); min-width:180px; z-index:90; margin-top:4px; }
.user-dropdown a, .user-dropdown button { display:block; width:100%; text-align:left; padding:12px 16px; text-decoration:none; color:var(--fg); background:none; border:none; cursor:pointer; font-size:0.95rem; transition: background 0.3s ease; }
.user-dropdown a:hover, .user-dropdown button:hover { background: rgba(109,40,217,0.06); }
.user-dropdown hr { border:none; border-top:1px solid #edf2ff; margin:4px 0; }
.logout-btn { color:#dc3545; font-weight:500; }
.logout-btn:hover { background: rgba(220,53,69,0.06); }

.badge { position:absolute; top:6px; right:6px; min-width:18px; height:18px; padding:0 5px; border-radius:9px; background:var(--accent); color:white; font-size:11px; display:inline-flex; align-items:center; justify-content:center; font-weight:700; }

.hamburger { display:none; background:transparent; border:none; padding:12px; cursor:pointer; min-width: 44px; min-height: 44px; }
.hamburger-box { width:22px; height:16px; display:inline-block; position:relative; }
.hamburger-inner, .hamburger-inner::before, .hamburger-inner::after { background:var(--fg); width:22px; height:2px; border-radius:2px; display:block; position:absolute; left:0; transition: transform .18s ease, opacity .18s ease; }
.hamburger-inner { top:50%; transform:translateY(-50%); }
.hamburger-inner::before { content:''; top:-7px; }
.hamburger-inner::after { content:''; top:7px; }

@media (max-width: 920px) {
  .links { position: fixed; top:64px; right:12px; left:12px; background:var(--bg); flex-direction:column; gap:8px; padding:16px; border-radius:12px; box-shadow: 0 12px 40px rgba(2,6,23,0.12); max-height:0; overflow:hidden; transition: max-height .22s ease; }
  .links.open { max-height: 400px; }
  .primary { margin-left:0; }
  .search input { min-width: 120px; }
  .hamburger { display:inline-flex; margin-left:8px; }
  .mobile-backdrop { position: fixed; top: 64px; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 70; }
  .links li a { padding: 12px 16px; font-size: 1.1rem; min-height: 48px; display: flex; align-items: center; }
}

@media (max-width: 520px) {
  .search { display:none; }
  .brand-text { font-size: 1.2rem; font-weight: 800; }
}

a:focus, button:focus, input:focus { box-shadow: 0 0 0 3px rgba(109,40,217,0.14); border-radius:8px; }

.search { display:none; }